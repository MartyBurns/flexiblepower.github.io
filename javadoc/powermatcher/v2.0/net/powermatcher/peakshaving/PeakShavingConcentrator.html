<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_75) on Fri Apr 17 14:47:09 CEST 2015 -->
<title>PeakShavingConcentrator (powermatcher)</title>
<meta name="date" content="2015-04-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PeakShavingConcentrator (powermatcher)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/powermatcher/peakshaving/PeakShavingConcentrator.html" target="_top">Frames</a></li>
<li><a href="PeakShavingConcentrator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.powermatcher.peakshaving</div>
<h2 title="Class PeakShavingConcentrator" class="title">Class PeakShavingConcentrator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../net/powermatcher/core/BaseAgent.html" title="class in net.powermatcher.core">net.powermatcher.core.BaseAgent</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../net/powermatcher/core/BaseAgentEndpoint.html" title="class in net.powermatcher.core">net.powermatcher.core.BaseAgentEndpoint</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">net.powermatcher.core.concentrator.Concentrator</a></li>
<li>
<ul class="inheritance">
<li>net.powermatcher.peakshaving.PeakShavingConcentrator</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../net/powermatcher/api/Agent.html" title="interface in net.powermatcher.api">Agent</a>, <a href="../../../net/powermatcher/api/AgentEndpoint.html" title="interface in net.powermatcher.api">AgentEndpoint</a>, <a href="../../../net/powermatcher/api/MatcherEndpoint.html" title="interface in net.powermatcher.api">MatcherEndpoint</a>, <a href="../../../net/powermatcher/api/monitoring/ObservableAgent.html" title="interface in net.powermatcher.api.monitoring">ObservableAgent</a>, <a href="../../../net/powermatcher/core/concentrator/TransformingConcentrator.html" title="interface in net.powermatcher.core.concentrator">TransformingConcentrator</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">PeakShavingConcentrator</span>
extends <a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">Concentrator</a>
implements <a href="../../../net/powermatcher/core/concentrator/TransformingConcentrator.html" title="interface in net.powermatcher.core.concentrator">TransformingConcentrator</a></pre>
<div class="block"><p>
 This class represents a <a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html" title="class in net.powermatcher.peakshaving"><code>PeakShavingConcentrator</code></a> component where several instances can be created.
 </p>

 <p>
 The <a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html" title="class in net.powermatcher.peakshaving"><code>PeakShavingConcentrator</code></a> receives <a href="../../../net/powermatcher/api/data/Bid.html" title="class in net.powermatcher.api.data"><code>Bid</code></a> from the agents and forwards this in an aggregate
 <a href="../../../net/powermatcher/api/data/Bid.html" title="class in net.powermatcher.api.data"><code>Bid</code></a> up in the hierarchy to a <a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html" title="class in net.powermatcher.peakshaving"><code>PeakShavingConcentrator</code></a> or to the <a href="../../../net/powermatcher/core/auctioneer/Auctioneer.html" title="class in net.powermatcher.core.auctioneer"><code>Auctioneer</code></a>. It will receive
 price updates from the <a href="../../../net/powermatcher/core/auctioneer/Auctioneer.html" title="class in net.powermatcher.core.auctioneer"><code>Auctioneer</code></a> and forward them to its connected agents. TODO: add PeakShavingConcentrator
 comment.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving">PeakShavingConcentrator.Config</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_net.powermatcher.core.BaseAgentEndpoint">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;net.powermatcher.core.<a href="../../../net/powermatcher/core/BaseAgentEndpoint.html" title="class in net.powermatcher.core">BaseAgentEndpoint</a></h3>
<code><a href="../../../net/powermatcher/core/BaseAgentEndpoint.Connected.html" title="class in net.powermatcher.core">BaseAgentEndpoint.Connected</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_net.powermatcher.api.AgentEndpoint">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;net.powermatcher.api.<a href="../../../net/powermatcher/api/AgentEndpoint.html" title="interface in net.powermatcher.api">AgentEndpoint</a></h3>
<code><a href="../../../net/powermatcher/api/AgentEndpoint.Status.html" title="interface in net.powermatcher.api">AgentEndpoint.Status</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#allocatedFlow">allocatedFlow</a></strong></code>
<div class="block">The allocated flow as calculated from the aggregated bidcurve</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#ceiling">ceiling</a></strong></code>
<div class="block">Maximum power level applied in 'peak shaving'</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#floor">floor</a></strong></code>
<div class="block">Minimum power level applied in 'peak shaving'</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#measuredFlow">measuredFlow</a></strong></code>
<div class="block">Measured flow as reported via the peak shaving interface</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_net.powermatcher.core.concentrator.Concentrator">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.powermatcher.core.concentrator.<a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">Concentrator</a></h3>
<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#config">config</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_net.powermatcher.core.BaseAgentEndpoint">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.powermatcher.core.<a href="../../../net/powermatcher/core/BaseAgentEndpoint.html" title="class in net.powermatcher.core">BaseAgentEndpoint</a></h3>
<code><a href="../../../net/powermatcher/core/BaseAgentEndpoint.html#NOT_CONNECTED">NOT_CONNECTED</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_net.powermatcher.core.BaseAgent">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.powermatcher.core.<a href="../../../net/powermatcher/core/BaseAgent.html" title="class in net.powermatcher.core">BaseAgent</a></h3>
<code><a href="../../../net/powermatcher/core/BaseAgent.html#context">context</a>, <a href="../../../net/powermatcher/core/BaseAgent.html#LOGGER">LOGGER</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#PeakShavingConcentrator()">PeakShavingConcentrator</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#activate(java.util.Map)">activate</a></strong>(java.util.Map&lt;java.lang.String,?&gt;&nbsp;properties)</code>
<div class="block">OSGi calls this method to activate a managed service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#activate(net.powermatcher.peakshaving.PeakShavingConcentrator.Config)">activate</a></strong>(<a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving">PeakShavingConcentrator.Config</a>&nbsp;config)</code>
<div class="block">Convenient activate method that takes a <a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving"><code>PeakShavingConcentrator.Config</code></a> object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#deactivate()">deactivate</a></strong>()</code>
<div class="block">OSGi calls this method to deactivate a managed service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#getUncontrolledFlow()">getUncontrolledFlow</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#setMeasuredFlow(javax.measure.Measurable)">setMeasuredFlow</a></strong>(javax.measure.Measurable&lt;javax.measure.quantity.Power&gt;&nbsp;measuredFlow)</code>
<div class="block">Sets the current measured flow for a transformer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../net/powermatcher/api/data/Bid.html" title="class in net.powermatcher.api.data">Bid</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#transformBid(net.powermatcher.api.data.Bid)">transformBid</a></strong>(<a href="../../../net/powermatcher/api/data/Bid.html" title="class in net.powermatcher.api.data">Bid</a>&nbsp;aggregatedBid)</code>
<div class="block">This method should be overridden when the bid that will be sent has to be changed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../net/powermatcher/api/data/Price.html" title="class in net.powermatcher.api.data">Price</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.html#transformPrice(net.powermatcher.api.data.Price,%20net.powermatcher.core.concentrator.SentBidInformation)">transformPrice</a></strong>(<a href="../../../net/powermatcher/api/data/Price.html" title="class in net.powermatcher.api.data">Price</a>&nbsp;price,
              <a href="../../../net/powermatcher/core/concentrator/SentBidInformation.html" title="class in net.powermatcher.core.concentrator">SentBidInformation</a>&nbsp;info)</code>
<div class="block">This method should be overridden when the price that will be sent down has to be changed.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.powermatcher.core.concentrator.Concentrator">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.powermatcher.core.concentrator.<a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">Concentrator</a></h3>
<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#activate(net.powermatcher.core.concentrator.Concentrator.Config)">activate</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#addObserver(net.powermatcher.api.monitoring.AgentObserver)">addObserver</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#agentEndpointDisconnected(net.powermatcher.api.Session)">agentEndpointDisconnected</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#connectToAgent(net.powermatcher.api.Session)">connectToAgent</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#connectToMatcher(net.powermatcher.api.Session)">connectToMatcher</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#handleBidUpdate(net.powermatcher.api.Session,%20net.powermatcher.api.messages.BidUpdate)">handleBidUpdate</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#handlePriceUpdate(net.powermatcher.api.messages.PriceUpdate)">handlePriceUpdate</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#matcherEndpointDisconnected(net.powermatcher.api.Session)">matcherEndpointDisconnected</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#removeObserver(net.powermatcher.api.monitoring.AgentObserver)">removeObserver</a>, <a href="../../../net/powermatcher/core/concentrator/Concentrator.html#setContext(org.flexiblepower.context.FlexiblePowerContext)">setContext</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.powermatcher.core.BaseAgentEndpoint">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.powermatcher.core.<a href="../../../net/powermatcher/core/BaseAgentEndpoint.html" title="class in net.powermatcher.core">BaseAgentEndpoint</a></h3>
<code><a href="../../../net/powermatcher/core/BaseAgentEndpoint.html#getAgentId()">getAgentId</a>, <a href="../../../net/powermatcher/core/BaseAgentEndpoint.html#getDesiredParentId()">getDesiredParentId</a>, <a href="../../../net/powermatcher/core/BaseAgentEndpoint.html#getLastBidUpdate()">getLastBidUpdate</a>, <a href="../../../net/powermatcher/core/BaseAgentEndpoint.html#getStatus()">getStatus</a>, <a href="../../../net/powermatcher/core/BaseAgentEndpoint.html#init(java.lang.String,%20java.lang.String)">init</a>, <a href="../../../net/powermatcher/core/BaseAgentEndpoint.html#publishBid(net.powermatcher.api.data.Bid)">publishBid</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.powermatcher.core.BaseAgent">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.powermatcher.core.<a href="../../../net/powermatcher/core/BaseAgent.html" title="class in net.powermatcher.core">BaseAgent</a></h3>
<code><a href="../../../net/powermatcher/core/BaseAgent.html#now()">now</a>, <a href="../../../net/powermatcher/core/BaseAgent.html#publishEvent(net.powermatcher.api.monitoring.events.AgentEvent)">publishEvent</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.powermatcher.api.AgentEndpoint">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;net.powermatcher.api.<a href="../../../net/powermatcher/api/AgentEndpoint.html" title="interface in net.powermatcher.api">AgentEndpoint</a></h3>
<code><a href="../../../net/powermatcher/api/AgentEndpoint.html#connectToMatcher(net.powermatcher.api.Session)">connectToMatcher</a>, <a href="../../../net/powermatcher/api/AgentEndpoint.html#getDesiredParentId()">getDesiredParentId</a>, <a href="../../../net/powermatcher/api/AgentEndpoint.html#getStatus()">getStatus</a>, <a href="../../../net/powermatcher/api/AgentEndpoint.html#handlePriceUpdate(net.powermatcher.api.messages.PriceUpdate)">handlePriceUpdate</a>, <a href="../../../net/powermatcher/api/AgentEndpoint.html#matcherEndpointDisconnected(net.powermatcher.api.Session)">matcherEndpointDisconnected</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.powermatcher.api.MatcherEndpoint">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;net.powermatcher.api.<a href="../../../net/powermatcher/api/MatcherEndpoint.html" title="interface in net.powermatcher.api">MatcherEndpoint</a></h3>
<code><a href="../../../net/powermatcher/api/MatcherEndpoint.html#agentEndpointDisconnected(net.powermatcher.api.Session)">agentEndpointDisconnected</a>, <a href="../../../net/powermatcher/api/MatcherEndpoint.html#connectToAgent(net.powermatcher.api.Session)">connectToAgent</a>, <a href="../../../net/powermatcher/api/MatcherEndpoint.html#handleBidUpdate(net.powermatcher.api.Session,%20net.powermatcher.api.messages.BidUpdate)">handleBidUpdate</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.powermatcher.api.Agent">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;net.powermatcher.api.<a href="../../../net/powermatcher/api/Agent.html" title="interface in net.powermatcher.api">Agent</a></h3>
<code><a href="../../../net/powermatcher/api/Agent.html#getAgentId()">getAgentId</a>, <a href="../../../net/powermatcher/api/Agent.html#setContext(org.flexiblepower.context.FlexiblePowerContext)">setContext</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="floor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>floor</h4>
<pre>protected&nbsp;double floor</pre>
<div class="block">Minimum power level applied in 'peak shaving'</div>
</li>
</ul>
<a name="ceiling">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ceiling</h4>
<pre>protected&nbsp;double ceiling</pre>
<div class="block">Maximum power level applied in 'peak shaving'</div>
</li>
</ul>
<a name="measuredFlow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>measuredFlow</h4>
<pre>protected volatile&nbsp;double measuredFlow</pre>
<div class="block">Measured flow as reported via the peak shaving interface</div>
</li>
</ul>
<a name="allocatedFlow">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>allocatedFlow</h4>
<pre>protected volatile&nbsp;double allocatedFlow</pre>
<div class="block">The allocated flow as calculated from the aggregated bidcurve</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PeakShavingConcentrator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PeakShavingConcentrator</h4>
<pre>public&nbsp;PeakShavingConcentrator()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="activate(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activate</h4>
<pre>public&nbsp;void&nbsp;activate(java.util.Map&lt;java.lang.String,?&gt;&nbsp;properties)</pre>
<div class="block">OSGi calls this method to activate a managed service.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#activate(java.util.Map)">activate</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">Concentrator</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>properties</code> - the configuration properties</dd></dl>
</li>
</ul>
<a name="activate(net.powermatcher.peakshaving.PeakShavingConcentrator.Config)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activate</h4>
<pre>public&nbsp;void&nbsp;activate(<a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving">PeakShavingConcentrator.Config</a>&nbsp;config)</pre>
<div class="block">Convenient activate method that takes a <a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving"><code>PeakShavingConcentrator.Config</code></a> object. This also makes subclassing easier.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>config</code> - The <a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving"><code>PeakShavingConcentrator.Config</code></a> object that configures this concentrator</dd></dl>
</li>
</ul>
<a name="deactivate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deactivate</h4>
<pre>public&nbsp;void&nbsp;deactivate()</pre>
<div class="block">OSGi calls this method to deactivate a managed service.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#deactivate()">deactivate</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">Concentrator</a></code></dd>
</dl>
</li>
</ul>
<a name="transformBid(net.powermatcher.api.data.Bid)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformBid</h4>
<pre>protected&nbsp;<a href="../../../net/powermatcher/api/data/Bid.html" title="class in net.powermatcher.api.data">Bid</a>&nbsp;transformBid(<a href="../../../net/powermatcher/api/data/Bid.html" title="class in net.powermatcher.api.data">Bid</a>&nbsp;aggregatedBid)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#transformBid(net.powermatcher.api.data.Bid)">Concentrator</a></code></strong></div>
<div class="block">This method should be overridden when the bid that will be sent has to be changed.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#transformBid(net.powermatcher.api.data.Bid)">transformBid</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">Concentrator</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>aggregatedBid</code> - The (input) aggregated bid as calculated normally (the sum of all the bids of the agents).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The bid that will be sent to the matcher that is connected to this <a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator"><code>Concentrator</code></a>.</dd></dl>
</li>
</ul>
<a name="transformPrice(net.powermatcher.api.data.Price, net.powermatcher.core.concentrator.SentBidInformation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformPrice</h4>
<pre>protected&nbsp;<a href="../../../net/powermatcher/api/data/Price.html" title="class in net.powermatcher.api.data">Price</a>&nbsp;transformPrice(<a href="../../../net/powermatcher/api/data/Price.html" title="class in net.powermatcher.api.data">Price</a>&nbsp;price,
                   <a href="../../../net/powermatcher/core/concentrator/SentBidInformation.html" title="class in net.powermatcher.core.concentrator">SentBidInformation</a>&nbsp;info)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#transformPrice(net.powermatcher.api.data.Price,%20net.powermatcher.core.concentrator.SentBidInformation)">Concentrator</a></code></strong></div>
<div class="block">This method should be overridden when the price that will be sent down has to be changed. This is called just
 before the price will be sent down to the connected agents.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html#transformPrice(net.powermatcher.api.data.Price,%20net.powermatcher.core.concentrator.SentBidInformation)">transformPrice</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/Concentrator.html" title="class in net.powermatcher.core.concentrator">Concentrator</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>price</code> - The input price update as received from the connected matcher.</dd><dd><code>info</code> - The information about the bid that has been send</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../net/powermatcher/api/data/Price.html" title="class in net.powermatcher.api.data"><code>Price</code></a> as it has to be sent to the connected agents.</dd></dl>
</li>
</ul>
<a name="getUncontrolledFlow()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUncontrolledFlow</h4>
<pre>protected&nbsp;double&nbsp;getUncontrolledFlow()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the difference between the measured flow and the allocation for the cluster. If either the measurement or
         the allocation is not available, this method will return Double.NaN.</dd></dl>
</li>
</ul>
<a name="setMeasuredFlow(javax.measure.Measurable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setMeasuredFlow</h4>
<pre>public&nbsp;void&nbsp;setMeasuredFlow(javax.measure.Measurable&lt;javax.measure.quantity.Power&gt;&nbsp;measuredFlow)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/TransformingConcentrator.html#setMeasuredFlow(javax.measure.Measurable)">TransformingConcentrator</a></code></strong></div>
<div class="block">Sets the current measured flow for a transformer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../net/powermatcher/core/concentrator/TransformingConcentrator.html#setMeasuredFlow(javax.measure.Measurable)">setMeasuredFlow</a></code>&nbsp;in interface&nbsp;<code><a href="../../../net/powermatcher/core/concentrator/TransformingConcentrator.html" title="interface in net.powermatcher.core.concentrator">TransformingConcentrator</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>measuredFlow</code> - The current power flow.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../net/powermatcher/peakshaving/PeakShavingConcentrator.Config.html" title="interface in net.powermatcher.peakshaving"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/powermatcher/peakshaving/PeakShavingConcentrator.html" target="_top">Frames</a></li>
<li><a href="PeakShavingConcentrator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
