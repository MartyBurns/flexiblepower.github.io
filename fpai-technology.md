---
layout: page
permalink: /Technology/fpai/
title: The
titleGreen: Flexible Power Application Infrastructure
modified: 29-9-2014
tagline: PowerMatcher Technology
tags: [FPAI, Smart Appliances, Operating System, Standard, Interface]
parent: technology
summary: A more detailed explanation on the Flexible Power Application Infrastructure; an operating system and platform for easily connecting a multitide of devices and apps.
image:
  feature: /images/site/banner_inner.jpg
  thumbnail: /images/site/banner_inner.jpg
  credit: Texture Lovers
  creditlink: http://texturelovers.com
---

The FlexiblePower Application Infrastructure is the connecting part between appliances at the home of the consumers at one side, and the (smart) energy grid on the other side. Appliances of different vendors can implement functionality which can be used to choose when and maybe how to start and use certain energy consuming or energy providing appliances. Developers of FPAI are responsible for providing functionality which connects these parts. Protocols are used to communicate with appliances within appliance drivers. Smart Grid applications need a model of the appliance they are paired with, this is the Control Space and is generated by the appliance driver. The appliance driver uses a self-chosen communication protocol to communicate with the appliance itself. At the physical level, this could be Zigbee, Z-Wave, PLC, WIFI, Ethernet, propriety, etc. It is provided by the manufacturer and allows for mix & matching of protocols.

[plaatje]

With the current Control Space of a device, Smart Grid Applications can determine the usage profile of the devices, i.e. when a device should start or stop. The application then makes an Allocation and if there is any energy flexibility available, it should be listed within Allocation. The appliance driver receives the Allocation and based on it can make a decision what is the optimal way to control the device. In this decision the user preferences are taken into account.

It is not the device that is modelled but rather its energy flexibility. From this a real device can be connected and used to perform the communication between the derived class and its device. In our experience four models are sufficient enough to cover all device types. These classes are called Control Spaces and are described in Table 1 below.

Control Space	Description	Examples
Uncontrollable	Has no flexibility, is measureable and may provide forecast.	Photo voltaic, Wind Turbine, TV, indoor lighting, etc.
Time Shiftable	Operation can be shifted in time, has a deadline.	Washing machine, Dishwasher, etc.
Buffer/Storage	Flexible in operation for either production or consumption and operation is bound by a buffer.	Freezer, Heat Pump, CHP, Batteries, EV, etc.
Unconstrained	Flexible in operation for production. The operation is not bound by a buffer.	Gas Generators, Diesel Generator, etc.

** Table 1: Description of the four different Control Space categories **

In essence, a control space is a way to put the information that is contained within a device into a generic structure, such that energy apps are able to understand that device from a generic energy model.

Where Control Spaces form an abstract representation of a device, Allocations are used to express what a device is requested to do. For each Control Space, there is also one Allocation type.

Control Spaces and Allocations are further discussed in the next chapter.

The App Store and Remote Management Interface are still under development and thus not discussed in this tutorial.

For you as developer it is important to know how the infrastructure works:

A Resource Manager receives a State from a Resource Driver.
This State is obtained by the Resource Driver using information sent by or polled from the appliance(s).
The State is converted by the Resource Manager into a Control Space.
The Resource Manager sends this Control Space to the Energy App. A Control Space defines the freedom in which the appliance can be started, and how much energy is consumed or produced when started.
The Energy App then provides an Allocation, which states when each appliance should be started, which is a time within the Control Space.
A Resource Manager creates Control Parameters based on this, which define when the appliance should start. The Control Parameters are sent to the Resource Driver.
The Resource Driver actually starts the appliance.
A dashboard can show controls and information about the current state of your appliances in the form of Widgets. Each Widget shows information for an appliance. It is possible to have multiple Widgets per appliance. When run the Dashboard is currently shown at http://localhost:8080.
